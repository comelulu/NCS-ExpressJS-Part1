const express = require("express");
const app = express();

// â‘  ì‚¬ìš©í•  í…œí”Œë¦¿ ì—”ì§„ì„ 'ejs'ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
app.set("view engine", "ejs");

/*
  ğŸ” view engineì´ë€?
  - "Expressì•¼, ë‚˜ëŠ” í™”ë©´ì„ ë§Œë“¤ ë•Œ ejsë¼ëŠ” í…œí”Œë¦¿ ë„êµ¬ë¥¼ ì“¸ ê±°ì•¼" í•˜ê³  ì•Œë ¤ì£¼ëŠ” ì„¤ì •ì…ë‹ˆë‹¤.
  - 'ejs' ë§ê³ ë„ pug, handlebars ë“± ë‹¤ì–‘í•œ í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
*/

// â‘¡ EJS íŒŒì¼ì´ ì €ì¥ëœ í´ë” ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤
app.set("views", "./views");

/*
  ğŸ” viewsë€?
  - "ejs íŒŒì¼ë“¤ì´ ì–´ë”” í´ë”ì— ìˆëŠ”ì§€"ë¥¼ ì•Œë ¤ì£¼ëŠ” ì„¤ì •ì…ë‹ˆë‹¤.
  - ê¸°ë³¸ê°’ì€ "./views"ì§€ë§Œ, ëª…ì‹œì ìœ¼ë¡œ ì ì–´ì£¼ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤.
  - ì¦‰, 'res.render("index")'ë¼ê³  í–ˆì„ ë•Œ, ì‹¤ì œë¡œëŠ” './views/index.ejs' íŒŒì¼ì„ ì°¾ê²Œ ë©ë‹ˆë‹¤.
*/

// â‘¢ ë£¨íŠ¸ ê²½ë¡œë¡œ ìš”ì²­ì´ ì˜¤ë©´ index.ejs íŒŒì¼ì„ ë Œë”ë§í•©ë‹ˆë‹¤
app.get("/", (req, res) => {
  // index.ejs íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê³ , title ê°’ì„ ì „ë‹¬í•©ë‹ˆë‹¤
  res.render("index", { title: "Hello, EJS!" });

  /*
    ğŸ” res.render(ë·° íŒŒì¼ ì´ë¦„, ë°ì´í„° ê°ì²´)
    - ì²« ë²ˆì§¸ ì¸ì: ë Œë”ë§í•  ejs íŒŒì¼ ì´ë¦„ì…ë‹ˆë‹¤ (í™•ì¥ì ì—†ì´)
    - ë‘ ë²ˆì§¸ ì¸ì: HTML ì•ˆì—ì„œ ì‚¬ìš©í•  ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë„˜ê¹ë‹ˆë‹¤
    - ì˜ˆ: index.ejs ì•ˆì—ì„œ <%= title %>ë¡œ "Hello, EJS!"ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤
  */
});

// â‘£ ì„œë²„ ì‹¤í–‰
app.listen(3000, () => {
  console.log("Server running on port 3000");
});
