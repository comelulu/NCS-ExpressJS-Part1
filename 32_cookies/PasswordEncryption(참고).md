# π” λΉ„λ°€λ²νΈ μ•”νΈν™”μ™€ μ„Έμ… μ—°λ™ β€“ Expressμ—μ„ μ•μ „ν• λ΅κ·ΈμΈ μ‹μ¤ν… κµ¬ν„

---

## π“¦ λΉ„λ°€λ²νΈ μ•”νΈν™”λ€?

### π’΅ **λΉ„λ°€λ²νΈ μ•”νΈν™”**λ€ μ‚¬μ©μμ λΉ„λ°€λ²νΈλ¥Ό **μ„λ²„μ— μ•μ „ν•κ² μ €μ¥**ν•λ” λ°©λ²•μ…λ‹λ‹¤.  
ν„μ‹¤ μ„Έκ³„μ—μ„ μ¤‘μ”ν• **μ •λ³΄**λ¥Ό μ•μ „ν•κ² λ³΄κ΄€ν•λ” λ°©λ²•μ„ μƒκ°ν•΄ λ³΄λ©΄, **λΉ„λ°€λ²νΈ**λ” λ§μΉ **μ—΄μ‡ **μ™€ κ°™μµλ‹λ‹¤. κ·Έλ°λ° **μ—΄μ‡ λ¥Ό μ•„λ¬΄ κ³³μ—λ‚ λ‘λ©΄** **λ„κµ°κ°€**κ°€ μ‰½κ² **μ—΄μ‡ λ¥Ό μ°Ύμ•„μ„** λ¬Έμ„ μ—΄ μ μκ² μ£ ? κ·Έλμ„ **μ—΄μ‡ λ¥Ό μ•μ „ν•κ² μ¨κ²¨λ‘λ” λ°©λ²•**μ΄ ν•„μ”ν•©λ‹λ‹¤. λ°”λ΅ **μ•”νΈν™”**κ°€ κ·Έ λ°©λ²•μ…λ‹λ‹¤.

- **μ•”νΈν™”**λ” λΉ„λ°€λ²νΈλ¥Ό **μ›λμ κ°’**μ΄ μ•„λ‹ **λ³€ν•λ κ°’**μΌλ΅ λ°”κΏ” μ €μ¥ν•λ” κ³Όμ •μ…λ‹λ‹¤. **λ³€ν•λ κ°’**μ€ **λ³µμ›ν•  μ μ—†λ„λ΅ λ§λ“¤μ–΄**μ„ λ³΄μ•μ— κ°•λ ¥ν•κ² λ³΄νΈν•  μ μμµλ‹λ‹¤.

---

## π§  μ™ λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™”ν•΄μ•Ό ν• κΉμ”?

- **λ³΄μ•μ„± κ°•ν™”**: λΉ„λ°€λ²νΈλ¥Ό **ν‰λ¬ΈμΌλ΅ μ €μ¥**ν•λ©΄, **ν•΄ν‚Ή**μ„ λ‹Ήν–μ„ λ• **λ„κµ°κ°€**κ°€ μ‰½κ² κ·Έ λΉ„λ°€λ²νΈλ¥Ό **μ• μ μμµλ‹λ‹¤**. ν•μ§€λ§ μ•”νΈν™”ν•λ©΄, **λΉ„λ°€λ²νΈλ¥Ό μ•„λ¬΄λ¦¬ ν›”μ³λ„ λ³µνΈν™”(μ›λ κ°’μΌλ΅ λλλ¦¬κΈ°)ν•  μ μ—†μµλ‹λ‹¤**.

- **μ‚¬μ©μ λ³΄νΈ**: **λΉ„λ°€λ²νΈλ¥Ό ν‰λ¬ΈμΌλ΅ μ €μ¥**ν•λ©΄, **μ„λ²„κ°€ ν•΄ν‚Ήλ‹Ήν–μ„ λ•** **λ¨λ“  μ‚¬μ©μμ λΉ„λ°€λ²νΈκ°€ μ μ¶**λ  μ μμµλ‹λ‹¤. μ•”νΈν™”λ **λΉ„λ°€λ²νΈλ” λ³µνΈν™”κ°€ λ¶κ°€λ¥**ν•΄μ„, μ μ¶λλ”λΌλ„ μ‹¤μ  λΉ„λ°€λ²νΈλ¥Ό μ• μ μ—†μµλ‹λ‹¤.

**μ•”νΈν™”**λ¥Ό ν†µν•΄ **λ„κµ°κ°€**κ°€ **λΉ„λ°€λ²νΈλ¥Ό νƒμ·¨**ν•΄λ„ κ·Έ **λΉ„λ°€λ²νΈλ¥Ό μ‰½κ² λ³µμ›**ν•  μ μ—†λ„λ΅ λ³΄νΈν•  μ μμµλ‹λ‹¤.

---

## π” μ•”νΈν™” κ°λ… β€“ ν„μ‹¤ μ„Έκ³„ λΉ„μ 

### π’΅ **Salt**μ™€ **Hash(ν•΄μ‹)**

1. **Salt(μ†κΈ)**  
   **Salt**λ” λ§μΉ **μ†κΈ**μ„ **μμ‹**μ— λ„£λ” κ²ƒμ²λΌ μƒκ°ν•  μ μμµλ‹λ‹¤. **μ†κΈ**μ€ **μμ‹**μ **λ§›μ„ λ°”κΎΈκΈ°** λ•λ¬Έμ—, **κ°™μ€ μμ‹**μ΄λΌλ„ **μ†κΈ**μ„ λ„£μΌλ©΄ **λ§›μ΄ λ‹¬λΌμ§‘λ‹λ‹¤**.  
   
   **Salt**λ” λΉ„λ°€λ²νΈμ— **μ†κΈμ²λΌ μ¶”κ°€λλ” κ°’**μΌλ΅, κ°™μ€ λΉ„λ°€λ²νΈλΌ ν•λ”λΌλ„ **Salt**λ¥Ό λ„£μΌλ©΄ **λ‹¤λ¥΄κ² λ³€ν™**λ©λ‹λ‹¤. **μ†κΈμ„ λ„£λ” μ΄μ **λ” **λ‹¨μν** κ°™μ€ λΉ„λ°€λ²νΈλΌλ„ **κ²°κ³Όκ°€ κ°™μ§€ μ•κ²** λ§λ“¤κΈ° μ„ν•¨μ…λ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ **ν•΄μ»¤**κ°€ μ—¬λ¬ **λΉ„λ°€λ²νΈ ν•΄μ‹κ°’**μ„ λΉ„κµν•λ” λ°©λ²•μΌλ΅ **μ›λμ λΉ„λ°€λ²νΈ**λ¥Ό μ•μ•„λ‚΄λ” κ²ƒμ„ λ§‰μ„ μ μμµλ‹λ‹¤.

   - **ν„μ‹¤ μ„Έκ³„ λΉ„μ **: λ‘ μ‚¬λμ΄ **κ°™μ€ μμ‹μ„ λ§λ“¤μ—μ§€λ§** μ†κΈμ μ–‘μ΄ λ‹¤λ¥΄λ©΄ **μ™„μ „ν λ‹¤λ¥Έ μμ‹**μ΄ λλ“―, **Salt**λ¥Ό μ¶”κ°€ν•λ©΄ **κ°™μ€ λΉ„λ°€λ²νΈλ„ μ„λ΅ λ‹¤λ¥Έ ν•΄μ‹κ°’**μ„ λ§λ“¤μ–΄ λƒ…λ‹λ‹¤.

2. **Hash(ν•΄μ‹)**  
   **Hash**λ” λ§μΉ **μμ‹μ„ μ™„μ „ν κ°μ•„μ„ μƒλ΅μ΄ ν•νƒλ΅ λ§λ“λ”** κ³Όμ •μ…λ‹λ‹¤. μμ‹μ **μ¬λ£**λ¥Ό **κ°μ•„μ„ μ„μ€ ν›„**, μ›λμ **λ¨μ–‘μ„ μ•μ•„λ‚Ό μ μ—†λ„λ΅** λ§λ“λ” κ²ƒμ…λ‹λ‹¤.  
   
   **Hash**λ” **λΉ„λ°€λ²νΈλ¥Ό νΉμ • μ•κ³ λ¦¬μ¦**μ„ ν†µν•΄ **κ³ μ ν• λ¬Έμμ—΄**λ΅ λ³€ν™ν•μ—¬ **λ³µμ›ν•  μ μ—†λ„λ΅ λ§λ“­λ‹λ‹¤**. **μ¦‰, λΉ„λ°€λ²νΈλ” ν•΄μ‹κ°’μΌλ΅ λ³€ν™λκ³ **, κ·Έ **ν•΄μ‹κ°’**μ€ λ‹¤μ‹ **μ›λ λΉ„λ°€λ²νΈλ΅ λλλ¦΄ μ μ—†μµλ‹λ‹¤**.

   - **ν„μ‹¤ μ„Έκ³„ λΉ„μ **: **κ°μ•„μ„** λ§λ“  **μμ‹**μ€ μ›λμ **μ¬λ£**λ΅ λ‹¤μ‹ λλλ¦΄ μ μ—†λ“―, **Hash**λ” λΉ„λ°€λ²νΈλ¥Ό **λ³€ν•**ν•μ—¬ **λλλ¦΄ μ μ—†λ” κ³ μ ν• κ°’**μ„ λ§λ“­λ‹λ‹¤.

### π’΅ **λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤**

1. **λ€μΉ­ν‚¤(λ€μΉ­ μ•”νΈν™”)**  
   **λ€μΉ­ν‚¤**λ” **ν•λ‚μ μ—΄μ‡ **λ΅ **λ¬Έμ„ μ—΄κ³  λ‹«λ” λ°©μ‹**μ…λ‹λ‹¤. μ΄ λ°©μ‹μ€ **μ•”νΈν™”**μ™€ **λ³µνΈν™”**μ— **κ°™μ€ μ—΄μ‡ **λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. κ·Έλμ„ **μ—΄μ‡ λ¥Ό μƒμ–΄λ²„λ¦¬λ©΄ ν° λ¬Έμ κ°€ μƒκΉλ‹λ‹¤**.

   - **ν„μ‹¤ μ„Έκ³„ λΉ„μ **: **ν• κ°μ μ—΄μ‡ **λ΅ **λ¬Έμ„ μ κ·Έκ³  μ—΄ μ μλ” λ°©μ‹**μ…λ‹λ‹¤. μ΄ λ°©μ‹μ—μ„λ” **λ„κµ°κ°€**κ°€ **μ—΄μ‡ λ¥Ό ν›”μ³κ°€λ©΄ λ¬Έμ„ μ—΄ μ** μμµλ‹λ‹¤.

2. **λΉ„λ€μΉ­ν‚¤(λΉ„λ€μΉ­ μ•”νΈν™”)**  
   **λΉ„λ€μΉ­ν‚¤**λ” **λ‘ κ°μ μ—΄μ‡ **λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. ν•λ‚λ” **κ³µκ°ν‚¤**(λ„κµ¬λ‚ μ• μ μλ” μ—΄μ‡ )μ΄κ³ , λ‹¤λ¥Έ ν•λ‚λ” **λΉ„κ³µκ°ν‚¤**(μκΈ°λ§ μ•„λ” μ—΄μ‡ )μ…λ‹λ‹¤. **κ³µκ°ν‚¤**λ΅ **μ•”νΈν™”**ν• λ©”μ‹μ§€λ” **λΉ„κ³µκ°ν‚¤**λ΅λ§ **λ³µνΈν™”**ν•  μ μμµλ‹λ‹¤.

   - **ν„μ‹¤ μ„Έκ³„ λΉ„μ **: **νΈμ§€λ¥Ό μ κΈ€ μ μλ” μ—΄μ‡ **λ” **λ¨λ‘κ°€** μ‚¬μ©ν•  μ μμ§€λ§, κ·Έ **νΈμ§€λ¥Ό μ—΄ μ μλ” μ—΄μ‡ **λ” **μκΈ°λ§** κ°€μ§€κ³  μμ–΄μ•Ό ν•λ” λ°©μ‹μ…λ‹λ‹¤.

### π’΅ **λ‹¨λ°©ν–¥ μ•”νΈν™”μ™€ λ³µνΈν™”**

1. **λ‹¨λ°©ν–¥ μ•”νΈν™”**  
   **λ‹¨λ°©ν–¥ μ•”νΈν™”**λ” **λ³µμ›ν•  μ μ—†λ” λ°©μ‹**μ…λ‹λ‹¤. ν• λ² **μ•”νΈν™”**λ λΉ„λ°€λ²νΈλ” **λ‹¤μ‹ μ›λλ€λ΅ λλλ¦΄ μ μ—†μµλ‹λ‹¤**. μ΄κ²ƒμ€ λ§μΉ **κ°•λ¬Όμ„ μ„μ—μ„ μ•„λλ΅ νλ ¤λ³΄λ‚΄λ” κ²ƒ**κ³Ό κ°™μµλ‹λ‹¤.

   - **ν„μ‹¤ μ„Έκ³„ λΉ„μ **: **νλ¬κ°„ λ¬Ό**μ€ **λ‹¤μ‹ λλλ¦΄ μ μ—†λ“―μ΄**, **λ‹¨λ°©ν–¥ μ•”νΈν™”**λ” **ν• λ² μ•”νΈν™”ν•λ©΄** μ›λμ λΉ„λ°€λ²νΈλ¥Ό **λ³µμ›ν•  μ μ—†μµλ‹λ‹¤**.

2. **λ³µνΈν™”**  
   **λ³µνΈν™”**λ” **μ•”νΈν™”λ λ°μ΄ν„°**λ¥Ό **μ›λμ κ°’**μΌλ΅ λλλ¦¬λ” κ³Όμ •μ…λ‹λ‹¤. ν•μ§€λ§ **λ‹¨λ°©ν–¥ μ•”νΈν™”**λ” **λ³µνΈν™”κ°€ λ¶κ°€λ¥**ν•©λ‹λ‹¤. λ€μ‹ , λΉ„λ°€λ²νΈλ¥Ό **λΉ„κµ**ν•  λ•λ” **μ•”νΈν™”λ κ°’**κ³Ό **μ…λ ¥ν• κ°’μ„ λΉ„κµ**ν•©λ‹λ‹¤.

   - **ν„μ‹¤ μ„Έκ³„ λΉ„μ **: **λ³µνΈν™”**λ” **λμ•„μ¨ λ¬Ό**μ„ λ‹¤μ‹ **μ›λμ μƒνƒλ΅ λλλ ¤ λ§μ‹λ” κ²ƒ**μ²λΌ, **λ³µνΈν™”κ°€ λ¶κ°€λ¥**ν• **λ‹¨λ°©ν–¥ μ•”νΈν™”**μ—μ„λ” **κ·Έ λ¬Όμ„ λλλ¦΄ μ μ—†μµλ‹λ‹¤**.

---

## π› οΈ λΉ„λ°€λ²νΈ μ•”νΈν™”μ™€ μ„Έμ… μ—°λ™ κµ¬ν„

μ΄μ  **λΉ„λ°€λ²νΈ μ•”νΈν™”**μ™€ **μ„Έμ… μ—°λ™**μ„ μ‹¤μ λ΅ μ–΄λ–»κ² κµ¬ν„ν•  μ μλ”μ§€ μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤. Expressμ—μ„λ” **`bcrypt`** λΌμ΄λΈλ¬λ¦¬λ΅ **λΉ„λ°€λ²νΈ μ•”νΈν™”**λ¥Ό μ‰½κ² μ²λ¦¬ν•κ³ , **μ„Έμ…**μ„ μ‚¬μ©ν•΄ λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€ν•  μ μμµλ‹λ‹¤.

---

## π“¦ μ‹¤μµ κµ¬μ΅° μμ‹

```js
π“¦ express-login-session-hash-demo
 β”£ π“„ app.js                 β† λΉ„λ°€λ²νΈ μ•”νΈν™” λ° μ„Έμ… μμ 
 β”£ π“„ package.json           β† bcrypt, express-session ν¬ν•¨
```

---

## 1οΈβƒ£ μ„¤μΉν•κΈ°

```bash
npm install express-session bcrypt
```

---

## 2οΈβƒ£ π“„ app.js β€“ λΉ„λ°€λ²νΈ μ•”νΈν™” λ° μ„Έμ… μ—°λ™ μμ 

```js
const express = require("express");
const session = require("express-session");
const bcrypt = require("bcrypt");

const app = express();

// POST μ”μ²­ μ²λ¦¬λ¥Ό μ„ν• body-parser λ‚΄μ¥ λ―Έλ“¤μ›¨μ–΄
app.use(express.urlencoded({ extended: true }));

// κ°€μƒμ λ°μ΄ν„°λ² μ΄μ¤ (μ‚¬μ©μ μ •λ³΄ μ €μ¥)
const usersDB = [];

/* -------------------------------------------------------------------
  [1] μ„Έμ… λ―Έλ“¤μ›¨μ–΄ μ„¤μ •
------------------------------------------------------------------- */
app.use(
  session({
    secret: "secret-key-1234",  // π” μ„Έμ… μ•”νΈν™”μ© ν‚¤
    resave: false,              // λ§¤ μ”μ²­λ§λ‹¤ μ„Έμ…μ„ μ €μ¥ν• μ§€ μ—¬λ¶€
    saveUninitialized: true,   // λ΅κ·ΈμΈ ν•μ§€ μ•μ•„λ„ μ„Έμ… μƒμ„±ν• μ§€ μ—¬λ¶€
    cookie: {
      httpOnly: true,          // JSμ—μ„ μ ‘κ·Ό λ¶κ°€ (λ³΄μ•)
      maxAge: 1000 * 60 * 10,  // μ„Έμ… μ μ§€ μ‹κ°„: 10λ¶„
    },
  })
);

/* -------------------------------------------------------------------
  [2] νμ›κ°€μ… νΌ (GET μ”μ²­)
------------------------------------------------------------------- */
app.get("/signup", (req, res) => {
  res.send(`
    <form method="POST" action="/signup">
      <input name="username" placeholder="μ•„μ΄λ”” μ…λ ¥" />
      <input type="password" name="password" placeholder="λΉ„λ°€λ²νΈ μ…λ ¥" />
      <button type="submit">νμ›κ°€μ…</button>
    </form>
  `);
});

/* -------------------------------------------------------------------
  [3] νμ›κ°€μ… μ²λ¦¬ (POST μ”μ²­)
  λΉ„λ°€λ²νΈ μ•”νΈν™” ν›„ λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥
------------------------------------------------------------------- */
app.post("/signup", async (req, res) => {
  const { username, password } = req.body;

  // λΉ„λ°€λ²νΈ μ•”νΈν™”
  const hashedPassword = await bcrypt.hash(password, 10);  // saltRounds = 10

  // κ°€μƒμ λ°μ΄ν„°λ² μ΄μ¤μ— μ‚¬μ©μ μ •λ³΄ μ €μ¥
  usersDB.push({ username, password: hashedPassword });

  res.send(`β… νμ›κ°€μ… μ„±κ³µ! <a href="/login">λ΅κ·ΈμΈ</a>`);
});

/* -------------------------------------------------------------------
  [4] λ΅κ·ΈμΈ νΌ (GET μ”μ²­)
------------------------------------------------------------------- */
app.get("/login", (req, res) => {
  res.send(`
    <form method="POST" action="/login">
      <input name="username" placeholder="μ•„μ΄λ”” μ…λ ¥" />
      <input type="password" name="password" placeholder="λΉ„λ°€λ²νΈ μ…λ ¥" />
      <button type="submit">λ΅κ·ΈμΈ</button>
    </form>
  `);
});

/* -------------------------------------------------------------------
  [5] λ΅κ·ΈμΈ μ²λ¦¬ (POST μ”μ²­)
  μ•”νΈν™”λ λΉ„λ°€λ²νΈμ™€ λΉ„κµ ν›„ λ΅κ·ΈμΈ μ²λ¦¬
------------------------------------------------------------------- */
app.post("/login", async (req, res) => {
  const { username, password } = req.body;

  // λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μ‚¬μ©μ μ°ΎκΈ°
  const user = usersDB.find((u) => u.username === username);

  if (user) {
    // λΉ„λ°€λ²νΈ λΉ„κµ
    const match = await bcrypt.compare(password, user.password);

    if (match) {
      // λΉ„λ°€λ²νΈ μΌμΉ β†’ μ„Έμ…μ— μ‚¬μ©μ μ •λ³΄ μ €μ¥
      req.session.user = username;
      res.send(`β… λ΅κ·ΈμΈ μ„±κ³µ! <a href="/profile">ν”„λ΅ν•„ λ³΄κΈ°</a>`);
    } else {
      res.send("β λΉ„λ°€λ²νΈκ°€ ν‹€λ Έμµλ‹λ‹¤. <a href='/login'>λ‹¤μ‹ μ‹λ„</a>");
    }
  } else {
    res.send("β μ•„μ΄λ””κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤. <a href='/login'>λ‹¤μ‹ μ‹λ„</a>");
  }
});

/* -------------------------------------------------------------------
  [6] μ‚¬μ©μ μƒνƒ ν™•μΈ (μ„Έμ… ν™•μΈ)
------------------------------------------------------------------- */
app.get("/profile", (req, res) => {
  if (req.session.user) {
    res.send(`π™‹ ${req.session.user}λ‹, ν™μν•©λ‹λ‹¤! <a href="/logout">λ΅κ·Έμ•„μ›ƒ</a>`);
  } else {
    res.send("β λ΅κ·ΈμΈλμ§€ μ•μ•μµλ‹λ‹¤. <a href='/login'>λ΅κ·ΈμΈ</a>");
  }
});

/* -------------------------------------------------------------------
  [7] λ΅κ·Έμ•„μ›ƒ μ²λ¦¬ β€“ μ„Έμ… μ κ±°
------------------------------------------------------------------- */
app.get("/logout", (req, res) => {
  req.session.destroy(() => {
    res.send("π‘‹ λ΅κ·Έμ•„μ›ƒ λμ—μµλ‹λ‹¤. <a href='/login'>λ‹¤μ‹ λ΅κ·ΈμΈ</a>");
  });
});

// μ„λ²„ μ‹¤ν–‰
app.listen(3000, () => {
  console.log("π” Session & Hash Login demo server running at http://localhost:3000");
});
```

---

## π“ λΉ„λ°€λ²νΈ μ•”νΈν™”μ™€ μ„Έμ… μ—°λ™ νλ¦„ μ”μ•½ μ‹κ°ν™”

```js
[1] GET /signup
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
HTML νΌ μ‘λ‹µ

[2] POST /signup
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
- req.body.username, req.body.password μ¶”μ¶
- bcrypt.hash(password)λ΅ λΉ„λ°€λ²νΈ μ•”νΈν™”
- μ‚¬μ©μ μ •λ³΄ κ°€μƒμ DB(usersDB) μ €μ¥

[3] GET /login
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
HTML λ΅κ·ΈμΈ νΌ μ‘λ‹µ

[4] POST /login
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
- req.body.username, req.body.password μ¶”μ¶
- λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μ‚¬μ©μ μ°ΎκΈ°
- bcrypt.compare(password, hashedPassword)λ΅ λΉ„λ°€λ²νΈ λΉ„κµ
- λΉ„λ°€λ²νΈ μΌμΉ β†’ μ„Έμ…μ— μ‚¬μ©μ μ •λ³΄ μ €μ¥

[5] GET /profile
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
- μΏ ν‚¤μ— μ €μ¥λ μ„Έμ…ID β†’ μ„λ²„κ°€ μ„Έμ… μ •λ³΄ μ΅°ν
- μ‚¬μ©μ μΈμ‹ μ„±κ³µ β†’ ν™μ λ©”μ‹μ§€ μ‘λ‹µ

[6] GET /logout
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
- μ„Έμ… μ‚­μ  β†’ connect.sid λ¬΄ν¨ν™”
```

---

## π§ μ‹¤μ  μ„Έμ… μ”μ²­ ν™•μΈ (λΈλΌμ°μ € κ°λ°μ λ„κµ¬)

```http
GET /profile HTTP/1.1
Host: localhost:3000
Cookie: connect.sid=s%3A4FuY...zJm.Q7dN...
```

> `connect.sid=...` μΏ ν‚¤κ°€ μ „μ†΅λκ³ , μ„λ²„λ” μ„Έμ… IDλ¥Ό μ΄μ©ν•΄ ν•΄λ‹Ή μ‚¬μ©μμ μƒνƒλ¥Ό μ΅°νν•μ—¬ λ΅κ·ΈμΈ μƒνƒλ¥Ό ν™•μΈν•©λ‹λ‹¤.

---

## π” λ³΄μ• ν β€“ λΉ„λ°€λ²νΈ μ•”νΈν™”μ™€ μ„Έμ… μ—°λ™ μ‹ μ•μ „ν•κ² κµ¬ν„ν•κΈ°

| μ„¤μ • | μ„¤λ… | μ¶”μ² μ—¬λ¶€ |
|------|------|-----------|
| `bcrypt.hash()` | λΉ„λ°€λ²νΈλ¥Ό μ•μ „ν•κ² μ•”νΈν™”ν•λ” ν•¨μ. | β… λ°λ“μ‹ μ‚¬μ© |
| `bcrypt.compare()` | λ΅κ·ΈμΈ μ‹ μ…λ ¥ν• λΉ„λ°€λ²νΈμ™€ μ €μ¥λ ν•΄μ‹λΉ„λ°€λ²νΈ λΉ„κµ. | β… ν•­μƒ μ‚¬μ© |
| `secret` | μ„Έμ… λ°μ΄ν„°μ μ„λ…(μ•”νΈν™”)μ„ μ„ν• ν‚¤. μ λ€ κΉƒν—™μ— μ¬λ¦¬μ§€ λ§μ„Έμ”. | β… ν•­μƒ μ‚¬μ© |
| `httpOnly` | JavaScriptμ—μ„ μΏ ν‚¤ μ ‘κ·Ό μ°¨λ‹¨. XSS κ³µκ²© λ°©μ§€μ© ν•„μ. | β… ν•­μƒ true |
| `secure` | HTTPSμ—μ„λ§ μΏ ν‚¤ μ „μ†΅ (λ°°ν¬ μ‹ ν•„μ). | β… μ΄μ ν™κ²½μ—μ„ ν•„μ |
| `sameSite` | λ‹¤λ¥Έ μ‚¬μ΄νΈμ—μ„ μλ™ μ”μ²­ μ°¨λ‹¨ (CSRF λ°©μ§€) | β… `Lax` λλ” `Strict` κ¶μ¥ |
| `maxAge` | μ„Έμ… λ§λ£ μ‹κ°„ μ„¤μ • (μ§§κ² μ μ§€ν• μλ΅ λ³΄μ•μƒ μ λ¦¬). | β… ν•„μ μ‚¬μ© |

---

## β… Expressμ—μ„ λΉ„λ°€λ²νΈ μ•”νΈν™”μ™€ μ„Έμ… κ΄€λ ¨ λ©”μ„λ“ μ •λ¦¬

| μ†μ„±/λ©”μ„λ“ | μ„¤λ… | μμ‹ |
|-------------|------|------|
| `bcrypt.hash(password, saltRounds)` | λΉ„λ°€λ²νΈ μ•”νΈν™” | `bcrypt.hash("password123", 10)` |
| `bcrypt.compare(password, hash)` | λΉ„λ°€λ²νΈ λΉ„κµ | `bcrypt.compare("password123", hash)` |
| `req.session` | μ„Έμ… μ €μ¥μ† | `req.session.user = "Tom"` |
| `req.session.destroy()` | μ„Έμ… μ κ±° | λ΅κ·Έμ•„μ›ƒ μ‹ μ‚¬μ© |

---

## π” λ§λ¬΄λ¦¬ μ”μ•½

| κ°λ… | μ„¤λ… |
|------|------|
| λΉ„λ°€λ²νΈ μ•”νΈν™” | bcryptλ¥Ό μ‚¬μ©ν•μ—¬ λΉ„λ°€λ²νΈλ¥Ό μ•μ „ν•κ² μ•”νΈν™” |
| λΉ„λ°€λ²νΈ λΉ„κµ | λ΅κ·ΈμΈ μ‹ μ•”νΈν™”λ λΉ„λ°€λ²νΈμ™€ μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό λΉ„κµ |
| μ„Έμ… μ—°λ™ | λ΅κ·ΈμΈ μ„±κ³µ μ‹ μ„Έμ…μ— μ‚¬μ©μ μ •λ³΄λ¥Ό μ €μ¥ν•κ³ , λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€ |
| λ³΄μ• κ΄€λ¦¬ | `bcrypt`λ΅ λΉ„λ°€λ²νΈ λ³΄νΈ, `express-session`μΌλ΅ λ΅κ·ΈμΈ μƒνƒ λ³΄νΈ |

