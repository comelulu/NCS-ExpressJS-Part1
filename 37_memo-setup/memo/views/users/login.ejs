<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>  <!-- 페이지 제목 -->
  </head>
  <body>
    <h1>Login</h1>  <!-- 로그인 제목 -->
    
    <!-- 로그인 폼 -->
    <form action="/users/login" method="post">  <!-- 로그인 요청을 처리하는 POST 폼 -->
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required />  <!-- 사용자 이름 입력 필드 -->
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required />  <!-- 비밀번호 입력 필드 -->
      <button type="submit">Login</button>  <!-- 로그인 버튼 -->
    </form>

    <!-- 오류 메시지 출력 -->
    <% if (typeof error !== 'undefined') { %>  <!-- error가 존재하면 -->
    <p style="color: red" id="error-message"><%= error %></p>  <!-- 오류 메시지를 빨간색으로 출력 -->
    <% } %>

    <!-- 회원가입 링크 -->
    <p>
      Don't have an account? <a href="/users/register">Register</a>  <!-- 회원가입 페이지로 가는 링크 -->
    </p>

    <script>
      // 입력 필드에서 변경이 있을 때 오류 메시지 숨김
      document
        .getElementById("username")
        .addEventListener("input", function () {
          var errorMessage = document.getElementById("error-message");
          if (errorMessage) errorMessage.style.display = "none";  // 오류 메시지 숨기기
        });

      document
        .getElementById("password")
        .addEventListener("input", function () {
          var errorMessage = document.getElementById("error-message");
          if (errorMessage) errorMessage.style.display = "none";  // 오류 메시지 숨기기
        });
    </script>
  </body>
</html>
