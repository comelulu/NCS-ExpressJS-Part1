const express = require("express");
const app = express();

/*
==========================================================
ðŸ”§ express.urlencoded({ extended: true })
----------------------------------------------------------
- HTML formì—ì„œ ì „ì†¡ëœ ë°ì´í„°ë¥¼ í•´ì„(parsing)í•˜ì—¬ req.bodyì— ì €ìž¥í•©ë‹ˆë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ formì€ 'application/x-www-form-urlencoded' íƒ€ìž…ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
- extended: true â†’ ê°ì²´ ì•ˆì— ë°°ì—´ì´ë‚˜ ì¤‘ì²©ëœ ê°ì²´ê¹Œì§€ íŒŒì‹± ê°€ëŠ¥ (ê¶Œìž¥)
*/
app.use(express.urlencoded({ extended: true }));

/*
==========================================================
ðŸ“¨ POST /login
----------------------------------------------------------
- ì‚¬ìš©ìžê°€ ë¡œê·¸ì¸ í¼ì„ ì œì¶œí•˜ë©´ ì´ ë¼ìš°íŠ¸ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
- ìž…ë ¥í•œ usernameê³¼ passwordê°€ req.bodyì— ì €ìž¥ë©ë‹ˆë‹¤.
*/
app.post("/login", (req, res) => {
  console.log(req.body); // ì˜ˆ: { username: 'Alice', password: '1234' }

  // ì´í›„ ë¡œê·¸ì¸ ê²€ì¦ ë¡œì§ì´ ì´ê³³ì— ë“¤ì–´ê°ˆ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

  res.send("Data received");
});

/*
==========================================================
ðŸš€ ì„œë²„ ì‹¤í–‰
==========================================================
*/
const PORT = 3000;
app.listen(PORT, () => console.log(`âœ… Server running on port ${PORT}`));
