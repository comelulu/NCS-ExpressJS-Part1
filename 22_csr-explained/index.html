<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CSR 예제</title>
  </head>
  <body>
    <!-- 
    ① 기본적으로 보여지는 영역입니다.
    페이지를 처음 열면 "잠시만 기다려주세요..."라는 문구가 보입니다.
    자바스크립트가 실행되면 이 안의 내용이 바뀌게 됩니다.
  -->
    <div id="app">잠시만 기다려주세요...</div>

    <script>
      // ② 실제 서버가 없기 때문에, 가짜 데이터를 직접 만듭니다.
      // 나중에 이 부분은 fetch()로 실제 API를 호출하는 코드로 바꿀 수 있습니다.
      const fakeData = [
        { title: "사과" },
        { title: "바나나" },
        { title: "오렌지" },
      ];

      // ③ 이 함수는 데이터를 받아서 HTML 요소로 변환하고 화면에 표시하는 역할을 합니다.
      function renderData(data) {
        // 화면에서 데이터를 넣을 <div id="app">를 찾습니다.
        const app = document.getElementById("app");

        // 기존 내용을 먼저 비웁니다 (예: "잠시만 기다려주세요..." 문구 제거)
        app.innerHTML = "";

        // 데이터를 반복하며 HTML 요소(p 태그)를 하나씩 만들어서 추가합니다.
        data.forEach((item) => {
          const p = document.createElement("p"); // <p> 요소 생성
          p.textContent = item.title; // 텍스트 내용 설정
          app.appendChild(p); // app 영역 안에 <p>를 추가합니다
        });
      }

      // ④ 1초 후에 데이터를 화면에 표시합니다.
      // 실제 앱에서는 서버로부터 데이터를 받는 fetch 작업이 이 위치에 들어갑니다.
      setTimeout(() => {
        renderData(fakeData); // renderData 함수를 실행하여 데이터를 보여줍니다
      }, 1000); // 1초(1000ms) 후 실행
    </script>
  </body>
</html>
