# 13. [Exercise] Express Static Middleware 

```js
// 1. Express λ¨λ“ λ¶λ¬μ¤κΈ°
//    Node.jsμ—μ„ μ„λ²„λ¥Ό λ§λ“¤κΈ° μ„ν• μ›Ή ν”„λ μ„μ›ν¬
const express = require("express");

// 2. μ•± μΈμ¤ν„΄μ¤ μƒμ„±
//    λΌμ°ν„°, λ―Έλ“¤μ›¨μ–΄, μ„λ²„ μ‹¤ν–‰ λ“±μ„ μ΄ app κ°μ²΄λ΅ μ²λ¦¬ν•©λ‹λ‹¤.
const app = express();

/*
==========================================================
π“¦ μ‹¤μ  μ‹λ‚λ¦¬μ¤: "μƒν’ μ²λ¦¬ κ³µμ¥"
- μ΄ μ½”λ“λ” Express λ―Έλ“¤μ›¨μ–΄λ¥Ό ν™μ©ν•΄ λ§μΉ λ¬Όλ¥μ„Όν„°μ²λΌ μ”μ²­ νλ¦„μ„ κµ¬μ„±ν–μµλ‹λ‹¤.
- κ°κ°μ λ―Έλ“¤μ›¨μ–΄λ” μƒν’μ μ²λ¦¬ λ‹¨κ³„λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤.
- μ‚¬μ©μκ°€ "/delivery" κ²½λ΅λ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄, μƒν’μ΄ κ³µμ¥μ„ κ±°μ³ κ³ κ°μ—κ² λ°°μ†΅λλ” κ³Όμ •μ„ ν‰λ‚΄λƒ…λ‹λ‹¤.
==========================================================
*/

// β… [1λ‹¨κ³„] μƒν’μ΄ κ³µμ¥μ— λ„μ°©
app.use((req, res, next) => {
  console.log("[1λ‹¨κ³„]: μƒν’μ΄ λ„μ°©ν–μµλ‹λ‹¤.");
  next(); // λ‹¤μ λ‹¨κ³„λ΅ λ„μ–΄κ°‘λ‹λ‹¤
});

// β… [2λ‹¨κ³„] μ…κ³  μ²λ¦¬
app.use((req, res, next) => {
  console.log("[2λ‹¨κ³„]: μƒν’μ΄ μ…κ³ λμ—μµλ‹λ‹¤.");
  next();
});

// β… [3λ‹¨κ³„] μ¬κ³  μ‹μ¤ν… λ“±λ΅
app.use((req, res, next) => {
  console.log("[3λ‹¨κ³„]: μ¬κ³  κ΄€λ¦¬λ¥Ό μ‹μ‘ν–μµλ‹λ‹¤.");
  next();
});

// β… [4λ‹¨κ³„] μ£Όλ¬Έ ν™•μΈ
app.use((req, res, next) => {
  console.log("[4λ‹¨κ³„]: μ£Όλ¬Έ μ²λ¦¬λμ—μµλ‹λ‹¤.");
  next();
});

// β… [5λ‹¨κ³„] λ°°μ†΅ μ¤€λΉ„ μ™„λ£ β†’ μ΄μ  μ‹¤μ  λ°°μ†΅ λΌμ°ν„°λ΅ μ΄λ™ν•©λ‹λ‹¤
app.use((req, res, next) => {
  console.log("[5λ‹¨κ³„]: λ¬Όλ¥ λ°°μ†΅μ΄ μ‹μ‘λμ—μµλ‹λ‹¤. λΌμ°ν„°λ΅ μ΄λ™ν•©λ‹λ‹¤.");
  next();
});

// β… [μµμΆ… λ‹¨κ³„] λ°°μ†΅ μ‹μ‘ (λΌμ°ν„° ν•Έλ“¤λ¬)
//     ν΄λΌμ΄μ–ΈνΈκ°€ "/delivery" κ²½λ΅λ΅ μ”μ²­ν•  λ• μ‹¤ν–‰λ©λ‹λ‹¤.
app.get("/delivery", (req, res) => {
  console.log("π λ¬Όλ¥ λ°°μ†΅ μ‹μ‘"); // μ½μ†”μ— μµμΆ… λ©”μ‹μ§€ μ¶λ ¥
  res.send("<h1>λ¬Όλ¥ λ°°μ†΅ μ‹μ‘</h1>"); // ν΄λΌμ΄μ–ΈνΈμ—κ² HTML μ‘λ‹µ μ „μ†΅
});

// β… 3000λ² ν¬νΈμ—μ„ μ„λ²„ μ‹¤ν–‰
app.listen(3000, () => {
  console.log("β… μ„λ²„κ°€ 3000λ² ν¬νΈμ—μ„ μ‹¤ν–‰ μ¤‘μ…λ‹λ‹¤.");
});
```

---

### π§­ μ „μ²΄ μ”μ²­ νλ¦„ μ‹κ°ν™”

μ‚¬μ©μκ°€ λΈλΌμ°μ €μ—μ„ `http://localhost:3000/delivery`μ— μ ‘μ†ν•λ©΄ μ„λ²„μ—μ„ μ•„λμ™€ κ°™μ΄ λ‹¨κ³„λ³„λ΅ λ―Έλ“¤μ›¨μ–΄κ°€ μ‹¤ν–‰λ©λ‹λ‹¤:

```js
π’» ν΄λΌμ΄μ–ΈνΈ μ”μ²­ β†’ GET /delivery

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  [1λ‹¨κ³„] μƒν’μ΄ λ„μ°©ν–μµλ‹λ‹¤.                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  [2λ‹¨κ³„] μƒν’μ΄ μ…κ³ λμ—μµλ‹λ‹¤.                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  [3λ‹¨κ³„] μ¬κ³  κ΄€λ¦¬λ¥Ό μ‹μ‘ν–μµλ‹λ‹¤.              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  [4λ‹¨κ³„] μ£Όλ¬Έ μ²λ¦¬λμ—μµλ‹λ‹¤.                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  [5λ‹¨κ³„] λ¬Όλ¥ λ°°μ†΅μ΄ μ‹μ‘λμ—μµλ‹λ‹¤.             β”‚
β”‚           λΌμ°ν„°λ΅ μ΄λ™ν•©λ‹λ‹¤.                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  [λΌμ°ν„°] GET /delivery                      β”‚
β”‚  β†’ console.log("π λ¬Όλ¥ λ°°μ†΅ μ‹μ‘")           β”‚
β”‚  β†’ res.send("<h1>λ¬Όλ¥ λ°°μ†΅ μ‹μ‘</h1>")        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

### π’΅ λ―Έλ“¤μ›¨μ–΄μ μ‹¤λ¬΄μ μΈ λΉ„μ 

| λ―Έλ“¤μ›¨μ–΄ λ‹¨κ³„ | ν„μ‹¤ μ„Έκ³„ λΉ„μ  |
|------------------|-------------------|
| 1λ‹¨κ³„ | λ¬Όλ¥ μ„Όν„°μ— νΈλ­μ΄ λ„μ°© |
| 2λ‹¨κ³„ | μƒν’μ΄ μ°½κ³ μ— μ •μ‹μΌλ΅ μ…κ³  |
| 3λ‹¨κ³„ | λ°”μ½”λ“ μ°κ³  μ¬κ³  μ‹μ¤ν…μ— λ“±λ΅ |
| 4λ‹¨κ³„ | κ³ κ° μ£Όλ¬Έ ν™•μΈ λ° μ²λ¦¬ μ™„λ£ |
| 5λ‹¨κ³„ | μƒν’ ν¬μ¥ ν›„ νƒλ°°λ΅ λ„κΉ€ |
| λΌμ°ν„° | μµμΆ… λ°°μ†΅ νΈλ­ μ¶λ°, κ³ κ°μ—κ² μ „λ‹¬ |

---

### π“ λ―Έλ“¤μ›¨μ–΄ νλ¦„ μ •λ¦¬

| κµ¬λ¶„ | κΈ°λ¥ | μ‹¤ν–‰ μ΅°κ±΄ |
|------|------|-----------|
| `app.use()` | λ¨λ“  μ”μ²­μ— λ€ν•΄ μ‹¤ν–‰ | μμ„λ€λ΅ μ‹¤ν–‰λ¨ |
| `next()` | λ‹¤μ λ―Έλ“¤μ›¨μ–΄λ΅ μ”μ²­ μ „λ‹¬ | νΈμ¶ν•μ§€ μ•μΌλ©΄ μ¤‘λ‹¨λ¨ |
| `app.get("/delivery")` | νΉμ • κ²½λ΅μ μµμΆ… μ‘λ‹µ μ²λ¦¬ | μ΄μ „ λ‹¨κ³„ λ¨λ‘ ν†µκ³Όν•΄μ•Ό λ„λ‹¬ν•¨ |

---

### β… ν™•μ¥ ν

- `app.use("/delivery", middleware)`μ²λΌ νΉμ • κ²½λ΅μ—λ§ λ―Έλ“¤μ›¨μ–΄ μ μ© κ°€λ¥
- λ―Έλ“¤μ›¨μ–΄μ—μ„ μ΅°κ±΄ λ¶„κΈ°ν•κ±°λ‚, μ‚¬μ©μ μΈμ¦ μ²λ¦¬λ„ κ°€λ¥
- `express.static("products")`μ²λΌ μ‹¤μ  μƒν’ μ΄λ―Έμ§€λ¥Ό μ κ³µν•λ” μ •μ  ν΄λ”λ„ ν•¨κ» κµ¬μ„± κ°€λ¥

